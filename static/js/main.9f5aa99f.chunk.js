(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{3:function(e,t,n){e.exports=n(9)},8:function(e,t,n){},9:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(2),a=n.n(i),s=(n(8),function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)});function c(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d=function(){return(d=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}function l(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}l(".editor {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  position: relative;\n  cursor: grab;\n  pointer-events: all;\n}\n\n.editor .editor__tree {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n}\n");function p(e){var t=e.link,n=e.stroke,r=e.onClick,i=void 0===r?function(){}:r,a=Object(o.useState)(!1),s=a[0],c=a[1],d=t.paths;return Object(o.createElement)(o.Fragment,null,d&&d.map((function(e){return Object(o.createElement)("path",{onClick:function(){return i(t)},onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},key:e,d:e,stroke:n,strokeWidth:s?"5":"2",fill:"none"})})))}l(".svg-layer {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  overflow: inherit;\n}\n\n.svg-layer path {\n  pointer-events: all;\n}\n.svg-layer path:hover {\n  stroke-width: 5;\n}\n\n.svg-layer svg,\nsvg * {\n  pointer-events: none;\n  z-index: 10;\n}\n");var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.stroke,n=void 0===t?"black":t,r=e.style,i=e.onPathClicked,a=e.links;return Object(o.createElement)("svg",{className:"svg-layer",style:r},a&&a.map((function(e){return Object(o.createElement)(p,{key:e.to+e.from,link:e,stroke:n,onClick:i})})))},t}(o.Component);function f(e){var t=e.nodes,n=e.Node,r=e.headNode,i=void 0===r||r,a=e.drawn,s=void 0===a?{}:a,c=function(e){return Boolean(s[e])};return Object(o.createElement)("div",{className:"tree"},t&&t.filter((function(e){return!c(e.id)})).map((function(t){var r;r=t.id,s[r]=!0;var a=t.children&&t.children.filter((function(e){return!c(e.id)}));return t&&Object(o.createElement)("div",{key:t.id,id:i?"tree__node-head-node":"",className:"tree__node-container"},Object(o.createElement)("div",{id:t.id,className:"tree__node-container-node"},Object(o.createElement)(n,d({},t))),a&&0!==a.length&&Object(o.createElement)(f,d({},e,{nodes:a,headNode:!1,drawn:s})))})))}function m(e){var t=e.nodes,n=e.zoom,o=e.container;if(!t)return[];return function e(t){var n=t.nodes,o=t.paths,r=t.zoom,i=t.drawn,a=t.container;if(!n)return o;for(var s=0;s<n.length;s++){var c=n[s];if(!i[c.id]){i[c.id]=!0;var d=e({nodes:c.children,paths:o,zoom:r,drawn:i,container:a});o=d?u(d):o,o=v({node:c,paths:o,zoom:r,container:a})}}return o}({nodes:t,paths:[],zoom:n,drawn:{},container:o})}function v(e){var t=e.node,n=e.paths,o=e.zoom,r=e.container,i=t.children;if(i)for(var a=function(e,t,n){var o=document.getElementById(t),r=document.getElementById(e);if(!r||!o)return;var i=y(r,o,n),a=Math.abs(i.right-i.left)/2;return i&&{x:i.left+a,y:i.bottom}}(r,t.id,o),s=0;s<i.length;s++){var c=i[s],d=g(r,c.id,o),u=w;if(d&&a)M({p1:a,p2:d})&&(u=b),n=u({p1:a,p2:d},n,c.id,t.id)}return n}function y(e,t,n){var o=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=function(e,t){return(e-t)/n};return{left:i(r.left,o.left),top:i(r.top,o.top),bottom:i(r.bottom,o.top),right:i(r.right,o.left)}}function g(e,t,n){var o=document.getElementById(t),r=document.getElementById(e);if(r&&o){var i=y(r,o,n),a=Math.abs(i.right-i.left)/2;return i&&{x:i.left+a,y:i.top}}}l(".tree {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\n.tree .tree__node-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.tree .tree__node-container .tree__node-container-node {\n  pointer-events: all;\n  margin: 30px;\n}\n");var x,E=function(e){return e.x+","+e.y},w=function(e,t,n,o){var r=function(e){var t=e.p1,n=e.p2,o=e.p3,r=e.p4;return"M"+E(t)+"\n      C"+E(n)+"\n      "+E(o)+"\n      "+E(r)}(function(e){var t=e.p1,n=e.p2,o=Math.min(t.y,n.y)+Math.abs(t.y-n.y)/2;return{p1:t,p2:{y:o,x:t.x},p3:{y:o,x:n.x},p4:n}}(e));return r?u(t,[{to:n,from:o,paths:[r]}]):t},M=function(e){var t=e.p1;return e.p2.y<t.y},b=function(e,t,n,o){var r=e.p1,i=e.p2,a=r.x<i.x,s=a?-45:45,c=a?1:0,d=document.getElementById("tree__node-head-node"),l=d&&(a?d.getBoundingClientRect().left:d.getBoundingClientRect().right)||0;return u(t,[{to:n,from:o,paths:[["M "+r.x+" "+r.y,"A 45 45, 0, 0, "+c+", "+(r.x+s)+" "+(r.y+45)].join(""),["M "+(r.x+s)+" "+(r.y+45),"L "+l+" "+(r.y+45)].join(""),["M "+l+" "+(r.y+45),"A 45 45, 0, 0, "+c+", "+(l+s)+" "+r.y].join(""),["M "+(l+s)+" "+r.y,"L "+(l+s)+" "+i.y].join(""),["M "+(l+s)+" "+i.y,"A 45 45, 0, 0, "+c+", "+l+" "+(i.y-45)].join(""),["M "+l+" "+(i.y-45),"L "+(i.x+s)+" "+(i.y-45)].join(""),["M "+(i.x+s)+" "+(i.y-45),"A 45 45, 0, 0, "+c+", "+i.x+" "+i.y].join("")]}])},j=.01,k=3,P="editor-container-id",_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={links:[],zoom:1},t.onWindowResize=function(){t.resetPaths()},t.resetPaths=function(){var e=t.state.zoom,n=m({nodes:t.props.nodes,zoom:e,container:P});t.setState({links:n})},t.onZoom=function(e){var n=t.state.zoom+e;t.setState({zoom:n<j?j:n>k?k:n})},t}return c(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize),this.resetPaths()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},t.prototype.componentDidUpdate=function(e){this.props.nodes!==e.nodes&&this.resetPaths()},t.prototype.render=function(){var e=this,t=this.state,n=t.zoom,r=t.links,i=this.props,a=i.currentPosition,s=void 0===a?{x:0,y:0}:a,c=i.onDragContainerMouseDown,u=i.Node,l=i.onPathClicked,p=s.x,m=s.y;return Object(o.createElement)("div",{id:"editor",className:"editor",onMouseDown:c,onWheel:function(t){var n=t.deltaY/1e3;e.onZoom(n)}},Object(o.createElement)(h,{style:{transform:"translate("+p+"px, "+m+"px) scale("+n+")"},onPathClicked:l,links:r}),Object(o.createElement)("div",{id:P,className:"editor__tree",style:{transform:"translate("+p+"px, "+m+"px) scale("+n+")"}},Object(o.createElement)(f,d({},this.props,{Node:u}))))},t}(o.Component),O=(x=_,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentPosition:t.props.currentPosition||{x:0,y:0},lastDragPosition:void 0},t.onTranslate=function(e,n){var o=t.state.currentPosition;t.setState({currentPosition:{x:o.x+e,y:o.y+n}})},t.onMouseDown=function(e){if(1===e.nativeEvent.which){var n=e.screenX,o=e.screenY;t.setState({lastDragPosition:{x:n,y:o}})}},t.onMouseMove=function(e){var n=t.state,o=n.lastDragPosition,r=n.currentPosition,i=e.screenX,a=e.screenY;if(o){var s=i-o.x,c=a-o.y;t.setState({currentPosition:{x:r.x+s,y:r.y+c},lastDragPosition:{x:i,y:a}})}},t.onMouseUp=function(){t.setState({lastDragPosition:void 0})},t}return c(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.lastDragPosition&&!t.lastDragPosition?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("touchmove",this.onMouseMove),document.addEventListener("touchend",this.onMouseUp),document.addEventListener("touchcancel",this.onMouseUp)):!this.state.lastDragPosition&&t.lastDragPosition&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onMouseMove),document.removeEventListener("touchend",this.onMouseUp),document.removeEventListener("touchcancel",this.onMouseUp))},t.prototype.render=function(){return r.a.createElement(x,d({currentPosition:this.state.currentPosition},this.props,{onTranslate:this.onTranslate,onDragContainerMouseDown:this.onMouseDown}))},t}(r.a.Component));function C(e){return r.a.createElement("div",{style:{background:"teal",width:"100px",height:"100px",borderRadius:"50px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"}},e.id)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,{Node:C,nodes:[{id:"1",children:[{id:"2a",children:[{id:"3a",children:[{id:"1"}]}]},{id:"2b",children:[{id:"3b",children:[{id:"1"}]},{id:"3c",children:[{id:"4a",children:[{id:"1"}]}]},{id:"3d"}]}]}]}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[3,1,2]]]);
//# sourceMappingURL=main.9f5aa99f.chunk.js.map